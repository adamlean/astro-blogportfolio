---
import { type CollectionEntry } from "astro:content";

type Work = CollectionEntry<"works">;

interface Props {
  works: Work[];
}

const { works } = Astro.props;
---

<section class="container mx-auto px-4 my-12">
  <h2 class="text-2xl font-bold mb-6">Work</h2>

  <div>
    {
      works
        .sort((a, b) => b.data.year - a.data.year)
        .map((work) => {
          const { title, description, image, year, category } = work.data;
          return (
            <article class="flex gap-4 py-6 border-b">
              <div class="flex-shrink-0 w-40 h-28 overflow-hidden rounded-lg">
                <img
                  src={image}
                  alt={title}
                  class="w-full h-full object-cover"
                />
              </div>
              <div class="flex flex-col justify-center">
                <h3 class="text-xl font-bold">{title}</h3>
                <div class="flex items-center gap-2 text-sm text-gray-600">
                  <span class="px-2 py-0.5 bg-blue-900 text-white rounded-full">
                    {year}
                  </span>
                  <span>{category}</span>
                </div>
                <p class="mt-2 text-gray-700">{description}</p>
              </div>
            </article>
          );
        })
    }
  </div>
</section>
